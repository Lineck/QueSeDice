{% extends  'base.html'%}

{% block content%}
<style>
  .positive { background-color: #d4edda; color: #155724; }
  .negative { background-color: #f8d7da; color: #721c24; }
  .neutral { background-color: #fff3cd; color: #856404; }
  </style>

<div class="container mt-5">
  <h1>Resultados de la búsqueda: {{term}}</h1>
  
  <!-- Mostrar tabla -->
  {% if tabla %}
      <div class="table-responsive">
          {{ tabla|safe }}
      </div>
  {% else %}
      <p>No hay datos para mostrar.</p>
  {% endif %}
  
  <!-- Controles de paginación -->
  <nav aria-label="Paginación">
      <ul class="pagination">
          {% if page > 1 %}
              <li class="page-item">
                  <a class="page-link" href="/results/{{ term }}/{{ youtube }}/{{ twitter }}?page={{ page - 1 }}">Anterior</a>
              </li>
          {% endif %}
          {% for p in range(1, total_pages + 1) %}
              <li class="page-item {% if p == page %}active{% endif %}">
                  <a class="page-link" href="/results/{{ term }}/{{ youtube }}/{{ twitter }}?page={{ p }}">{{ p }}</a>
              </li>
          {% endfor %}
          {% if page < total_pages %}
              <li class="page-item">
                  <a class="page-link" href="/results/{{ term }}/{{ youtube }}/{{ twitter }}?page={{ page + 1 }}">Siguiente</a>
              </li>
          {% endif %}
      </ul>
  </nav>
  
  <a href="/download_csv/{{ term }}" class="btn btn-primary mt-3">Descargar como CSV</a>
</div>

{% endblock %}
